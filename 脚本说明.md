# Forge è„šæœ¬è¯´æ˜

## ğŸ“œ è„šæœ¬ç”¨é€”

### FundAccounts.s.solï¼ˆæ–°å¢ï¼‰

**ç”¨é€”**ï¼šç»™ä½ çš„åœ°å€çœŸæ­£è½¬è´¦

```
åŠŸèƒ½ï¼š
  - ä½¿ç”¨ Anvil Account #0ï¼ˆæœ‰ 10,000 ETHï¼‰
  - ç»™ Bob_real è½¬ 100 ETH
  - ç»™ Bob_proxy è½¬ 50 ETH
  - ç»™ Alice è½¬ 10 ETH
  - çœŸæ­£çš„é“¾ä¸Šè½¬è´¦ï¼ˆMetaMask å¯è§ï¼‰

ä½•æ—¶ä½¿ç”¨ï¼š
  âœ… Demo å‰å…ˆè¿è¡Œ
  âœ… è®©ä½ çš„åœ°å€æœ‰é’±
  âœ… æ‰èƒ½åœ¨å‰ç«¯ç”¨ MetaMask å‘äº¤æ˜“
```

---

### Deploy.s.sol

**ç”¨é€”**ï¼šéƒ¨ç½²æ ¸å¿ƒåˆçº¦

```
åŠŸèƒ½ï¼š
  - éƒ¨ç½² WealthProofRegistry
  - è‡ªåŠ¨éƒ¨ç½² Groth16Verifier
  - ç”Ÿæˆ broadcast æ–‡ä»¶

ä½•æ—¶ä½¿ç”¨ï¼š
  âœ… æ¯æ¬¡å¯åŠ¨é“¾å
  âœ… éƒ¨ç½²åˆçº¦åˆ°æœ¬åœ°é“¾
  âœ… å‰ç«¯éœ€è¦åˆçº¦åœ°å€
```

---

### DemoSimple.s.sol

**ç”¨é€”**ï¼šå®Œæ•´æ¼”ç¤ºï¼ˆTerminal æ¼”ç¤ºç”¨ï¼‰

```
åŠŸèƒ½ï¼š
  - éƒ¨ç½²åˆçº¦
  - åˆ›å»ºé’±åŒ…æ± å®ä¾‹ï¼ˆåŒ…å«ä½ çš„åœ°å€ï¼‰
  - åˆ›å»ºä½™é¢å¿«ç…§
  - vm.deal ç»™åœ°å€å‘é’±ï¼ˆä»…è„šæœ¬å†…éƒ¨ï¼‰
  - å±•ç¤ºå®Œæ•´æµç¨‹

ä½•æ—¶ä½¿ç”¨ï¼š
  âœ… Terminal æ¼”ç¤ºæ—¶
  âœ… å±•ç¤ºç»™è¯„å§”çœ‹
  âœ… è¯´æ˜ç³»ç»Ÿå·¥ä½œåŸç†

âš ï¸ æ³¨æ„ï¼š
  - vm.deal çš„é’±åªåœ¨è„šæœ¬æ‰§è¡Œæ—¶æœ‰æ•ˆ
  - ä¸ä¼šçœŸæ­£æ”¹å˜é“¾ä¸Šä½™é¢
  - MetaMask çœ‹ä¸åˆ°è¿™äº›é’±
```

---

## ğŸ”‘ å…³é”®åŒºåˆ«

### vm.dealï¼ˆæµ‹è¯•ç”¨ï¼‰

```solidity
vm.deal(address, amount);  // Cheatcode

æ•ˆæœï¼š
  âœ… è„šæœ¬æ‰§è¡Œæ—¶æœ‰æ•ˆ
  âŒ è„šæœ¬ç»“æŸåå¤±æ•ˆ
  âŒ MetaMask çœ‹ä¸åˆ°
  
ç”¨é€”ï¼š
  - Foundry æµ‹è¯•
  - æ¼”ç¤ºè„šæœ¬
  - æ¨¡æ‹Ÿä½™é¢
```

### payable.transferï¼ˆçœŸå®è½¬è´¦ï¼‰

```solidity
payable(address).transfer(amount);  // çœŸå®äº¤æ˜“

æ•ˆæœï¼š
  âœ… æ°¸ä¹…æœ‰æ•ˆ
  âœ… é“¾ä¸Šå¯è§
  âœ… MetaMask å¯è§
  
ç”¨é€”ï¼š
  - ç»™åœ°å€å‘é’±
  - çœŸå®è½¬è´¦
  - Demo å‰å‡†å¤‡
```

---

## ğŸ¯ æ­£ç¡®çš„ Demo æµç¨‹

### å¦‚æœéœ€è¦åœ¨å‰ç«¯ç”¨ MetaMask å‘äº¤æ˜“

```bash
# 1. ç»™ä½ çš„åœ°å€è½¬è´¦ï¼ˆçœŸå®è½¬è´¦ï¼‰
forge script script/FundAccounts.s.sol ... --broadcast

# 2. æ£€æŸ¥ MetaMask
æ‰“å¼€ MetaMask
åˆ‡æ¢åˆ° localhost:8545
æŸ¥çœ‹ä½™é¢ï¼šåº”è¯¥æœ‰ ETH äº† âœ…

# 3. éƒ¨ç½²åˆçº¦
forge script script/Deploy.s.sol ... --broadcast

# 4. ç”Ÿæˆ ABI
node scripts-js/generateTsAbis.js

# 5. å¯åŠ¨å‰ç«¯
yarn start

# 6. ä½¿ç”¨ MetaMask åœ¨å‰ç«¯åˆ›å»ºå®ä¾‹
è®¿é—® /zk-flex/bob
è¿æ¥ MetaMaskï¼ˆBob_proxy è´¦æˆ·ï¼‰
ç‚¹å‡» "Create Instance"
âœ“ æœ‰é’±ï¼Œå¯ä»¥å‘äº¤æ˜“ï¼
```

---

### å¦‚æœåªæ˜¯æ¼”ç¤ºï¼ˆTerminal æ¼”ç¤ºï¼‰

```bash
# ç›´æ¥è¿è¡Œ DemoSimple.s.sol
forge script script/DemoSimple.s.sol ... --broadcast

# å±•ç¤ºè¾“å‡ºç»™è¯„å§”
# ä¸éœ€è¦å‰ç«¯
# ä¸éœ€è¦ MetaMask
# åªå±•ç¤º Terminal
```

---

## ğŸ“‹ æ€»ç»“

| è„šæœ¬ | éƒ¨ç½²åˆçº¦ | ç»™åœ°å€è½¬è´¦ | MetaMask å¯è§ | ç”¨é€” |
|------|---------|-----------|-------------|------|
| **FundAccounts.s.sol** | âŒ | âœ… çœŸå®è½¬è´¦ | âœ… | Demo å‰å‡†å¤‡ |
| **Deploy.s.sol** | âœ… | âŒ | N/A | éƒ¨ç½²åˆçº¦ |
| **DemoSimple.s.sol** | âœ… | âš ï¸ vm.deal | âŒ | Terminal æ¼”ç¤º |

---

**ç°åœ¨æ˜ç™½äº†å—ï¼Ÿ**

- FundAccounts = ç»™ä½ å‘çœŸé’±
- Deploy = éƒ¨ç½²åˆçº¦
- DemoSimple = Terminal æ¼”ç¤ºï¼ˆå‡é’±ï¼‰

è¦ç”¨å‰ç«¯ â†’ å…ˆè¿è¡Œ FundAccounts.s.solï¼

