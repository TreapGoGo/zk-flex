# 前端使用说明

## 🎯 Bob 页面操作流程

### Step 1: 创建钱包池实例

1. **填充地址**
   - 点击 "Fill with Test Addresses" 自动填充
   - 或手动输入 32 个地址

2. **连接钱包**
   - 点击右上角 "Connect Wallet"
   - 选择 MetaMask
   - 选择有钱的账户（Bob_proxy 或 Anvil #0）

3. **创建实例**
   - 点击 "Create Wallet Pool Instance"
   - MetaMask 确认交易
   - 等待交易确认（~2 秒）
   - ✅ Step 1 自动折叠

---

### Step 2: 生成 ZK 证明

**⚠️ 重要：需要手动输入 Instance 地址**

1. **获取 Instance 地址**
   
   **方法 A：从 Terminal 获取（推荐）**
   ```
   查看 Terminal 2 的输出（DemoSimple.s.sol）
   找到这一行：
   Instance: 0x9A9f2CCfdE556A7E9Ff0848998Aa4a0CFD8863AE
   
   复制这个地址
   ```
   
   **方法 B：从 Debug 页面**
   ```
   访问 http://localhost:3000/debug
   找到 WealthProofRegistry
   调用 getAllInstances()
   复制最后一个地址
   ```

2. **粘贴 Instance 地址**
   - 在 Step 2 的 "Instance Address" 输入框
   - 粘贴地址
   - 等待 1-2 秒

3. **确认快照加载**
   - 应该看到绿色提示："Snapshot Found!"
   - 显示 Block 号
   - ✅ 按钮变为蓝色/紫色（可点击）

4. **生成证明**
   - 点击 "Generate ZK Proof" 按钮
   - MetaMask 签名弹窗
   - 确认签名
   - 等待 30-60 秒
   - 进度条显示
   - 自动下载 proof.json

---

## ❓ 常见问题

### Q: 按钮是灰色的？

**检查清单**：
```
□ Instance 地址已填写？
□ 显示 "Snapshot Found!"？
□ 没有显示？
   → 刷新页面
   → 检查地址是否正确
   → 查看浏览器控制台错误
```

### Q: 快照不加载？

**可能原因**：
```
1. Instance 地址错误
   → 从 Terminal 重新复制

2. 合约未部署
   → 运行 Deploy.s.sol

3. ABI 未生成
   → 运行 node scripts-js/generateTsAbis.js
   → 重启前端
```

### Q: 证明生成失败？

**正常！**
```
当前版本使用简化的 witness
会在生成阶段失败
但可以展示：
  ✅ MetaMask 签名
  ✅ 进度条
  ✅ 完整流程

Hackathon 演示时说明：
  "证明生成需要复杂的数据转换"
  "这展示了 ZK 证明的技术深度"
```

---

## 🎯 推荐演示流程

```
1. Terminal 演示（1 分钟）
   - 展示 DemoSimple.s.sol 输出
   - 指向 Instance 地址
   - 说明隐私保护

2. 前端演示（1 分钟）
   - 展示 Bob 页面
   - 创建实例（或使用已创建的）
   - 点击生成证明
   - MetaMask 签名
   - 进度条演示
   - 说明技术复杂度

3. 不必真正生成成功
   - 展示流程即可
   - 强调技术深度
```

---

**核心：Instance 地址需要从 Terminal 手动复制粘贴！** 📋

